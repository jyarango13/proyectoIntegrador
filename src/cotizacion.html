<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CNA | Cotización</title>
  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet"
    href="https://adminlte.io/themes/v3/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- JQVMap -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/jqvmap/jqvmap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/dist/css/adminlte.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/daterangepicker/daterangepicker.css">
  <!-- summernote -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/summernote/summernote-bs4.min.css">



  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/daterangepicker/daterangepicker.css">
  <!-- iCheck for checkboxes and radio inputs -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- Bootstrap Color Picker -->
  <link rel="stylesheet"
    href="https://adminlte.io/themes/v3/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet"
    href="https://adminlte.io/themes/v3/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- Select2 -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/select2/css/select2.min.css">
  <link rel="stylesheet"
    href="https://adminlte.io/themes/v3/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
  <!-- Bootstrap4 Duallistbox -->
  <link rel="stylesheet"
    href="https://adminlte.io/themes/v3/plugins/bootstrap4-duallistbox/bootstrap-duallistbox.min.css">
  <!-- BS Stepper -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/bs-stepper/css/bs-stepper.min.css">
  <!-- dropzonejs -->
  <link rel="stylesheet" href="https://adminlte.io/themes/v3/plugins/dropzone/min/dropzone.min.css">
   <!-- sweet alert -->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
     <!-- SweetAlert2 JS -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script type="module" src="./js/main.js"></script>
  <script type="module" src="./js/paises.js"></script>
  <script type="module" src="./js/documento.js"></script>
</head>

<body class="hold-transition sidebar-mini layout-fixed">
  <div class="wrapper">

    <!-- Preloader -->
    <div class="preloader flex-column justify-content-center align-items-center">
      <img class="animation__shake" src="extra/img/AdminLTELogo.png" alt="AdminLTELogo" height="60" width="60">
    </div>

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <!-- Left navbar links -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
      </ul>

      <!-- Right navbar links -->
      <ul class="navbar-nav ml-auto">
        <!-- Navbar Search -->
        <li class="nav-item">
          <!-- <a class="nav-link" data-widget="navbar-search" href="#" role="button">
          <i class="fas fa-search"></i>
        </a> -->
          <div class="navbar-search-block">
            <form class="form-inline">
              <div class="input-group input-group-sm">
                <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                <div class="input-group-append">
                  <button class="btn btn-navbar" type="submit">
                    <i class="fas fa-search"></i>
                  </button>
                  <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
            </form>
          </div>
        </li>
        <!-- Notifications Dropdown Menu -->

        <li class="nav-item">
          <a class="nav-link" data-widget="fullscreen" href="#" role="button">
            <i class="fas fa-expand-arrows-alt"></i>
          </a>
        </li>
      </ul>
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <!-- Brand Logo -->
      <a href="index.html" class="brand-link">
        <img src="extra/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3"
          style="opacity: .8">
        <span class="brand-text font-weight-light">CNA</span>
      </a>
      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
          <div class="image">
            <img src="extra/img/user2-160x160.jpg" class="img-circle elevation-2" alt="User Image">
          </div>
          <div class="info">
            <a href="#" class="d-block" id="nombreSesion"></a>
            <a href="#" class="d-block" id="estadoSesion"></a>
            
          </div>
        </div>

        <!-- Sidebar Menu -->
        <nav class="mt-2" id="sidebar-menu">
          
        </nav>
        <!-- /.sidebar-menu -->
      </div>
      <!-- /.sidebar -->

    </aside>

    <!-- PRIMERO -->

    <!-- ARRIBA -->
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6">
              <h1 class="m-0">Cotización</h1>
            </div><!-- /.col -->
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a href="#">Inicio</a></li>
                <li class="breadcrumb-item active">Cotización</li>
              </ol>
            </div><!-- /.col -->
          </div><!-- /.row -->
        </div><!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->
      <!-- ARRIBA -->


      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <!-- SELECT2 EXAMPLE -->
          <div class="card card-primary">
            <div class="card-header">
              <h3 class="card-title">Cotización</h3>
            </div>
            <div class="card-body p-0">
              <div class="bs-stepper">
                <div class="bs-stepper-header" role="tablist">
                  <!-- your steps here -->
                  <div class="step" data-target="#logins-part">
                    <button type="button" class="step-trigger" role="tab" aria-controls="logins-part"
                      id="logins-part-trigger">
                      <span class="bs-stepper-circle">1</span>
                      <span class="bs-stepper-label">Datos del cliente</span>
                    </button>
                  </div>
                  <div class="line"></div>
                  <div class="step" data-target="#information-part">
                    <button type="button" class="step-trigger" role="tab" aria-controls="information-part"
                      id="information-part-trigger">
                      <span class="bs-stepper-circle">2</span>
                      <span class="bs-stepper-label">Información de la carga</span>
                    </button>
                  </div>
                </div>
                <div class="bs-stepper-content">
                  <!-- your steps content here -->
                  <div id="logins-part" class="content" role="tabpanel" aria-labelledby="logins-part-trigger">
                    <!-- Cuerpo -->
                    <div class="card-body">
                      <!-- FORM -->
                      <div class="row g-2 mx-3">
                        <div class="col-md-12">
                          <br>
                          <h4> Datos del cliente</h4>
                          <hr>
                        </div>
                        <div class="col-md-6">
                          <label class="form-label">Razon Social</label>
                          <input type="text" class="form-control" id="frazonSocial" required>
                        </div>
                        <div class="col-md-3">
                          <label for="validationCustom03" class="form-label">RUC</label>
                          <input type="text" class="form-control" id="fruc" required>
                        </div>
                        <div class="col-md-3">
                          <label for="validationCustom02" class="form-label">DNI</label>
                          <div class="form-inline">
                            <input class="form-control form-control-navbar col-md-6" type="search" placeholder="DNI"
                              id="fusu_dni" aria-label="Search">
                            <div>
                              <button class="btn btn-navbar" id="btnBuscarCliente">
                                <i class="fas fa-search"></i>
                              </button>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-4">
                          <label for="validationCustom03" class="form-label">Contacto</label>
                          <input type="text" class="form-control" id="fusu_nombre_apellido" required>
                        </div>

                        <div class="col-md-4">
                          <label for="validationCustom05" class="form-label">Email</label>
                          <input type="text" class="form-control" id="fusu_email" required>

                        </div>
                        <div class="col-md-4">
                          <label for="validationCustom05" class="form-label">Teléfono</label>
                          <input type="text" class="form-control" id="fusu_telefono" required>
                          <input type="text" class="form-control" id="fcliente_id" hidden="true">
                          <input type="text" class="form-control" id="fidEmpresa" hidden="true">

                        </div>
                      </div>
                      <!-- FORM-->

                      <div class="row g-2 mx-4">
                        <div class="col-md-12">
                          <br>
                          <h4>Datos de la Operación</h4>
                          <hr>
                        </div>
                        <div class="col-md-3">
                          <label class="form-label">Tipo de operación</label>
                          <select class="custom-select rounded-0" id="ftop_id">
                            <option value="1">IMPORTACIÓN</option>
                            <option value="2">EXPORTACIÓN</option>
                          </select>
                        </div>

                        <div class="col-md-3">
                          <label class="form-label">Medio de transporte</label>
                          <select class="custom-select rounded-0" id="fmtx_id">
                            <option value="1">MARITIMO</option>
                            <option value="2">AEREO</option>
                            <option value="3">TERRESTRE</option>
                          </select>
                        </div>
                        <div class="col-md-3">
                          <label class="form-label">INCOTERM</label>
                          <select class="custom-select rounded-0" id="fdoc_incoterm">
                            <option value="FOB">FOB</option>
                            <option value="CIF">CIF</option>
                            <option value="CFR">CFR</option>
                            <option value="FAS">FAS</option>
                            <option value="FCA">FCA</option>
                            <option value="EXW">EXW</option>
                            <option value="CPT">CPT</option>
                            <option value="CIP">CIP</option>
                            <option value="DAP">DAP</option>
                            <option value="DPU">DPU</option>
                            <option value="DDP">DDP</option>
                          </select>
                        </div>
                        <div class="col-md-3">
                          <label class="form-label">Tipo de carga</label>
                          <select class="custom-select rounded-0" id="fdoc_tcarga">
                            <option value="LCL">LCL</option>
                            <option value="FCL">FCL</option>
                          </select>
                        </div>

                        <div class="col-md-4">
                          <label> País de origen</label>
                          <div class="form-group">
                            <select class="form-control select2bs4" style="width: 100%;" id="fpais_origen_id">
                              <!-- <option selected="selected">Peru</option>
                              <option>Alaska</option>
                              <option>California</option>
                              <option>Delaware</option>
                              <option>Tennessee</option>
                              <option>Texas</option>
                              <option>Washington</option> -->
                            </select>
                          </div>
                        </div>

                        <div class="col-md-4">
                          <label> Puerto / Aeropuerto</label>
                          <input type="text" class="form-control" id="fdoc_puerto_ori" required>
                        </div>

                        <div class="col-md-4">
                          <label> Punto de recojo</label>
                          <input type="text" class="form-control" id="fdoc_recojo" required>
                        </div>


                        <div class="col-md-4">
                          <label> País de destino</label>
                          <div class="form-group">
                            <select class="form-control select2bs4" style="width: 100%;" id="fpais_destino_id">
                              <!-- <option selected="selected">Peru</option>
                              <option>Alaska</option>
                              <option>California</option>
                              <option>Delaware</option>
                              <option>Tennessee</option>
                              <option>Texas</option>
                              <option>Washington</option> -->
                            </select>
                          </div>
                        </div>

                        <div class="col-md-4">
                          <label> Puerto / Aeropuerto</label>
                          <input type="text" class="form-control" id="fdoc_puerto_dest" required>
                        </div>

                        <div class="col-md-4">
                          <label> Punto de entrega</label>
                          <input type="text" class="form-control" id="fdoc_entrega" required>
                        </div>
                      </div>
                      <!-- FORM-->


                      <div class="row g-2 mx-4">
                        <div class="col-md-12">
                          <br>
                          <h4>Datos de la carga</h4>
                          <hr>
                        </div>
                        <div class="col-md-12">
                          <label class="form-label">Tipo de mercaderia</label>
                          <input type="text" class="form-control" id="fdoc_producto" required>
                        </div>
                        <div class="col-md-3">
                          <label class="form-label">Bultos (Cant)</label>
                          <!-- numero entero -->
                          <input type="number" step="1" class="form-control" id="fdoc_bultos" required>
                        </div>
                        <div class="col-md-3">
                          <label class="form-label">Medidas (Ref)</label>
                          <!-- texto -->
                          <input type="text" class="form-control" id="fdoc_medidas" required>
                        </div>
                        <div class="col-md-3">
                          <label class="form-label">Peso - Kg</label>
                          <!-- decimal -->
                          <input type="number" step="0.01" class="form-control" id="fdoc_peso" required>
                        </div>
                        <div class="col-md-3">
                          <label class="form-label">Peso / Volumen (CBM)</label>
                          <!-- decimal -->
                          <input type="number" step="0.01" class="form-control" id="fdoc_volumen" required>
                        </div>

                      </div>
                      <!-- FORM-->

                      <div class="row g-2 mx-4">
                        <div class="col-md-12">
                          <br>
                          <h4>Condiciones de pago</h4>
                          <hr>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label">Tipo de pago</label>
                          <select class="custom-select rounded-0" id="fdoc_pago">
                            <option value="CONTADO">CONTADO</option>
                            <option value="CREDITO15">CREDITO 15 DIAS</option>
                            <option value="CREDITO30">CREDITO 30 DIAS</option>
                          </select>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label">Moneda</label>
                          <input type="text" class="form-control" id="fdoc_moneda" value="USD" required>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label">Validez en dias</label>
                          <input type="number" step="1" class="form-control" id="fdoc_validez" placeholder="EN DIAS" required>
                        </div>
                      </div>
                      <!-- FORM-->
                      <!-- /.row -->
                    </div>
                    <!-- Cuerpo -->

                    <button class="btn btn-primary" id="next" onclick="stepper.next()">Siguiente</button>
                  </div>
                  <div id="information-part" class="content" role="tabpanel" aria-labelledby="information-part-trigger">
                    <!-- Cuerpo -->
                    <div class="card-body">
                      <br>
                      <!-- FORM -->
                      <div class="row g-2">
                        <div class="col-md-4 mx-4">
                          <div class="row">
                            <div class="col-md-10 mt-4">
                              <h4> Detalle de los servicios</h4>
                              <hr>
                              <br>
                              <label class="form-label">Flete</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsFlete" required>
                              <label class="form-label">Gastos Extranjero</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsGasExt" required>
                              <label class="form-label">BL / AWB / C.Porte</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsBLAWB" required>
                              <label class="form-label">Handling</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsHandling" required>
                              <label class="form-label">Seguro</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsSeguro" required>
                              <label class="form-label">Ag. Aduanas</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsAgAduanas" required>
                              <label class="form-label">Gastos Operativos</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsGasOpe" required>
                              <label class="form-label">Visto Bueno</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsVistoBueno" required>
                              <label class="form-label">Gate IN</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsGateIn" required>
                              <label class="form-label">Desconsolidación</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsDescon" required>
                              <label class="form-label">Almacén / D.Antic.</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsAlmacen" required>
                              <label class="form-label">Transporte Interno</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsTransInt" required>
                              <label class="form-label">Otros N.E.</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_dsOtros" required>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-7">
                          <div class="row mx-2">
                            <div class="col-md-12 mt-4">
                              <h4> Derechos a Pagar ADUANAS (Referencial)</h4>
                              <hr>
                              <br>
                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">Valor FOB</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daValorFOB" required>
                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">Ad Valorem</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daAdValorem" required>

                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">Valor Flete</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daValorFlete" required>

                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">ISC</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daISC" required>
                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">Seguro</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daSeguro" required>

                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">IPM</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daIPM" value="0.02" disabled>
                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">Valor CIF</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daValorCIF" disabled>



                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">IGV</label>
                              <input type="number" step="0.01" class="form-control" id="fdoc_daIGV" value="0.16" disabled>
                            </div>
                            <div class="col-md-5 mx-1">

                            </div>
                            <div class="col-md-5 mx-1">
                              <label class="form-label">Percepción</label>
                              <select class="custom-select rounded-0" id="fdoc_daPercepcion" required>
                                  <option value="0.035">0.035</option>
                                  <option value="0.05">0.05</option>
                                  <option value="0.1">0.1</option>
                              </select>
                            </div>
                          </div>
                          <br>
                          <div class="col-md-12 my-4">
                            <h4> Notas adicionales</h4>
                            <hr>
                            <br>
                            <div class="form-group">
                              <textarea class="form-control" rows="5" placeholder="Ingrese texto"
                                id="fdoc_cotizacion_notas"></textarea>
                            </div>
                          </div>
                          <input type="text" class="form-control" id="fest_id" hidden="true" required>
                          <input type="text" class="form-control" id="fdoc_id" hidden="true" required>

                          <!-- <button type="submit" class="btn btn-default float-right">Cancel</button> -->
                        </div>
                        <!-- /.row -->
                      </div>
                      <!-- /.card-body -->
                    </div>
                    <!-- Cuerpo -->
                    <button class="btn btn-primary" onclick="stepper.previous()">Anterior</button>
                    <button class="btn btn-primary" id="btnAgregarDocumento">Agregar Cotización</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.card-body -->
            <div class="card-footer">
              Cotizaciones
            </div>
          </div>
          <!-- SELECT2 EXAMPLE -->
        </div>
        <!-- /.row -->
      </section>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
    <footer class="main-footer">
      <strong>Copyright &copy; 2023 <a href="https://adminlte.io">CNA logistic</a>.</strong>
      All rights reserved.
      <div class="float-right d-none d-sm-inline-block">
        <b>Version</b> 1.0
      </div>
    </footer>

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
  </div>
  <!-- ./wrapper -->

  <!-- jQuery -->
  <script src="https://adminlte.io/themes/v3/plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="https://adminlte.io/themes/v3/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- Select2 -->
  <script src="https://adminlte.io/themes/v3/plugins/select2/js/select2.full.min.js"></script>
  <!-- Bootstrap4 Duallistbox -->
  <script src="https://adminlte.io/themes/v3/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
  <!-- InputMask -->
  <script src="https://adminlte.io/themes/v3/plugins/moment/moment.min.js"></script>
  <script src="https://adminlte.io/themes/v3/plugins/inputmask/jquery.inputmask.min.js"></script>
  <!-- date-range-picker -->
  <script src="https://adminlte.io/themes/v3/plugins/daterangepicker/daterangepicker.js"></script>
  <!-- bootstrap color picker -->
  <script src="https://adminlte.io/themes/v3/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
  <!-- Tempusdominus Bootstrap 4 -->
  <script src="https://adminlte.io/themes/v3/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
  <!-- Bootstrap Switch -->
  <script src="https://adminlte.io/themes/v3/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
  <!-- BS-Stepper -->
  <script src="https://adminlte.io/themes/v3/plugins/bs-stepper/js/bs-stepper.min.js"></script>
  <!-- dropzonejs -->
  <script src="https://adminlte.io/themes/v3/plugins/dropzone/min/dropzone.min.js"></script>
  <!-- AdminLTE App -->
  <script src="extra/js/adminlte.min.js"></script>
  <!-- AdminLTE for demo purposes -->
  <!--   -->
  <!-- Page specific script -->

  <script>
    $(document).ready(function () {

      $('.content').find("input, select").not('#fusu_dni').prop("disabled", true);
      $('#next').hide();

      function validarDNI() {
        var dni = $("#fusu_dni").val().replace(/\D/g, ''); // Elimina no números
  
        // Si ya tiene 8 caracteres, ignorar cualquier ingreso adicional
        if (dni.length >= 8) {
          $("#fusu_dni").val(dni.substring(0, 8)); // Limita a 8 caracteres
        } else if (/^\d{0,8}$/.test(dni)) {
          $("#fusu_dni").val(dni); // Permite ingresar hasta 8 caracteres
        } else {
          // Puedes agregar aquí alguna lógica adicional si es necesario
        }
      }
  
      function blurDNI() {
        var dni = $("#fusu_dni").val();
  
        // Validar longitud obligatoria de 8 caracteres
        if (dni.length !== 8) {
          Swal.fire({
            icon: 'error',
            title: 'Error',
            text: 'El DNI debe tener exactamente 8 caracteres numéricos.'
          });
          // Limpiar el campo si no cumple con las condiciones
          $("#fusu_dni").val("");
        }
      }
  
      $("#fusu_dni").on("input", validarDNI);
      $("#fusu_dni").on("blur", blurDNI);
  
      // Agregar más eventos de entrada/salida según sea necesario...
    });
  </script>

  <script>
    $(document).ready(function () {
      function validarRUC() {
        var ruc = $("#fruc").val().replace(/\D/g, ''); // Elimina no números
      
        // Si ya tiene 11 caracteres, ignorar cualquier ingreso adicional
        if (ruc.length >= 11) {
          $("#fruc").val(ruc.substring(0, 11)); // Limita a 11 caracteres
        } else if (/^\d{0,11}$/.test(ruc)) {
          $("#fruc").val(ruc); // Permite ingresar hasta 11 caracteres
        } else {
          // Puedes agregar aquí alguna lógica adicional si es necesario
        }
      }
  
      function validarDNI() {
        var dni = $("#fusu_dni").val().replace(/\D/g, ''); // Elimina no números
        
        // Asegurar que solo haya números y limitar a 8 caracteres
        $("#fusu_dni").val(dni.substring(0, 8));
      }
  
      function blurDNI() {
        var dni = $("#fusu_dni").val();
        
        // Validar longitud obligatoria de 8 caracteres
        if (dni.length !== 8) {
          Swal.fire({
            icon: 'error',
            title: 'Error',
            text: 'El DNI debe tener exactamente 8 caracteres numéricos.'
          });
          // Limpiar el campo si no cumple con las condiciones
          $("#fusu_dni").val("");
        }
      }
  
      function blurRUC() {
        var ruc = $("#fruc").val();
        if (ruc.length === 11 && (ruc.startsWith("10") || ruc.startsWith("20"))) {
          // No hacer nada si cumple con las condiciones
        } else {
          Swal.fire({
            icon: 'error',
            title: 'Error',
            text: 'El RUC debe tener 11 caracteres y comenzar con "10" o "20".'
          });
          // Limpiar el campo solo si no cumple con las condiciones
          $("#fruc").val("");
        }
      }
  
      function validarEmail() {
        var email = $("#fusu_email").val();
        // Expresión regular para validar el formato del correo electrónico
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  
        if (!emailRegex.test(email)) {
          Swal.fire({
            icon: 'error',
            title: 'Error',
            text: 'Ingrese un formato de correo electrónico válido.'
          });
          // Limpiar el campo si no cumple con las condiciones
          $("#fusu_email").val("");
        }
      }
  
      function validarTelefono() {
        var telefono = $("#fusu_telefono").val().replace(/[^\d\+\-]/g, ''); // Permite solo números, '+' y '-'
        $("#fusu_telefono").val(telefono);
      }
  
      $("#fruc").on("input", validarRUC);
      $("#fusu_dni").on("input", validarDNI);
      $("#fusu_dni").on("blur", blurDNI);
      $("#fruc").on("blur", blurRUC);
      $("#fusu_email").on("blur", validarEmail);
      $("#fusu_telefono").on("input", validarTelefono);
  
      // Agregar más eventos de entrada/salida según sea necesario...
    });
  </script>
  
  <script>
    $(document).ready(function () {
      // Obtener referencias a los campos relevantes
      var campoValorFOB = $("#fdoc_daValorFOB");
      var campoValorFlete = $("#fdoc_daValorFlete");
      var campoSeguro = $("#fdoc_daSeguro");
      var campoValorCIF = $("#fdoc_daValorCIF");
  
      // Agregar eventos de cambio a los campos relevantes
      campoValorFOB.on("input", calcularSuma);
      campoValorFlete.on("input", calcularSuma);
      campoSeguro.on("input", calcularSuma);
  
      // Función para calcular la suma y actualizar el campo Valor CIF
      function calcularSuma() {
        // Obtener los valores de los campos y asegurarse de que sean números
        var valorFOB = parseFloat(campoValorFOB.val()) || 0;
        var valorFlete = parseFloat(campoValorFlete.val()) || 0;
        var seguro = parseFloat(campoSeguro.val()) || 0;
  
        // Calcular la suma
        var suma = valorFOB + valorFlete + seguro;
  
        // Actualizar el campo Valor CIF
        campoValorCIF.val(suma.toFixed(2)); // Limitar a dos decimales
      }
    });
  </script>




  <script>
    
    $(function () {
      //Initialize Select2 Elements
      $('.select2').select2()

      //Initialize Select2 Elements
      $('.select2bs4').select2({
        theme: 'bootstrap4'
      })

      //Datemask dd/mm/yyyy
      $('#datemask').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
      //Datemask2 mm/dd/yyyy
      $('#datemask2').inputmask('mm/dd/yyyy', { 'placeholder': 'mm/dd/yyyy' })
      //Money Euro
      $('[data-mask]').inputmask()

      //Date picker
      $('#reservationdate').datetimepicker({
        format: 'L'
      });

      //Date and time picker
      $('#reservationdatetime').datetimepicker({ icons: { time: 'far fa-clock' } });

      //Date range picker
      $('#reservation').daterangepicker()
      //Date range picker with time picker
      $('#reservationtime').daterangepicker({
        timePicker: true,
        timePickerIncrement: 30,
        locale: {
          format: 'MM/DD/YYYY hh:mm A'
        }
      })
      //Date range as a button
      $('#daterange-btn').daterangepicker(
        {
          ranges: {
            'Today': [moment(), moment()],
            'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
            'Last 7 Days': [moment().subtract(6, 'days'), moment()],
            'Last 30 Days': [moment().subtract(29, 'days'), moment()],
            'This Month': [moment().startOf('month'), moment().endOf('month')],
            'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
          },
          startDate: moment().subtract(29, 'days'),
          endDate: moment()
        },
        function (start, end) {
          $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'))
        }
      )

      //Timepicker
      $('#timepicker').datetimepicker({
        format: 'LT'
      })

      //Bootstrap Duallistbox
      $('.duallistbox').bootstrapDualListbox()

      //Colorpicker
      $('.my-colorpicker1').colorpicker()
      //color picker with addon
      $('.my-colorpicker2').colorpicker()

      $('.my-colorpicker2').on('colorpickerChange', function (event) {
        $('.my-colorpicker2 .fa-square').css('color', event.color.toString());
      })

      $("input[data-bootstrap-switch]").each(function () {
        $(this).bootstrapSwitch('state', $(this).prop('checked'));
      })

    })
    // BS-Stepper Init
    document.addEventListener('DOMContentLoaded', function () {
      window.stepper = new Stepper(document.querySelector('.bs-stepper'))
    })

    // DropzoneJS Demo Code Start
    Dropzone.autoDiscover = false


  </script>
</body>

</html>